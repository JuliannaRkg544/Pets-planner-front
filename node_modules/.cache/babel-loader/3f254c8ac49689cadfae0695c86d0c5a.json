{"ast":null,"code":"var _jsxFileName = \"/home/juliana/Documentos/Driven/Projetos/Projeto-autoral/Pets-planner-front/src/components/ToDoList.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState, useContext } from \"react\";\nimport Button from \"../styledComponents/SubmmitButton\";\nimport ToDoListStyle from \"../styledComponents/ToDoListStyle\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport UserContext from \"../Context/UserContext\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/pt-br\";\nimport ModalTask from \"./ModalTask\";\nimport ModalDelete from \"./ModalDelete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ToDoList() {\n  _s();\n\n  const [toggleModal, setToggleModal] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [del, setDel] = useState(false);\n  const [idTask, setIdtask] = useState();\n  const {\n    user,\n    setUSer\n  } = useContext(UserContext);\n  const [marked, setMarked] = useState(false);\n  const [filled, setFilled] = useState(\"-outline\");\n  const token = localStorage.getItem(\"token\");\n  const URL_DELETE_TASK = `${process.env.REACT_APP_API_URL}/pet/task/delete/${idTask}`;\n  const URL = `${process.env.REACT_APP_API_URL}/pet/task`;\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  useEffect(() => {\n    axios.get(URL, config).then(response => {\n      console.log(response.data);\n      setTasks(response.data);\n    }).catch(e => {\n      console.log(e.response);\n    });\n  }, [toggleModal, del, marked]);\n\n  function riskTask(index, taskid) {\n    const URL_PATCH = `${process.env.REACT_APP_API_URL}/pet/task/patch/${taskid}`;\n    const body = {\n      isDone: tasks[index].done\n    };\n    console.log(body);\n    axios.patch(URL_PATCH, body, config).then(response => {\n      console.log(response.data);\n      setMarked(!marked);\n    }).catch(e => console.log(e.response));\n  }\n\n  if (tasks.length > 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ToDoListStyle, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", dayjs().locale(\"PT-BR\").format(\"dddd, DD/MM\"), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), tasks.map((task, index) => {\n          return !task.done ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-task\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: () => riskTask(index, task.id),\n              children: task.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"buttons\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mark-underline\",\n                onClick: () => {\n                  riskTask(index, task.id);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                  name: `checkbox${filled}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"delete\",\n                onClick: () => {\n                  setDel(!del);\n                  setIdtask(task.id);\n                  console.log(\"id do list \", task.id);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                  name: \"trash-outline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(ModalDelete, {\n              toggleModal: del,\n              setToggleModal: setDel,\n              id: idTask,\n              URL: URL_DELETE_TASK\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ModalDelete, {\n            toggleModal: del,\n            setToggleModal: setDel,\n            id: idTask,\n            URL: URL_DELETE_TASK\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(Button, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => {\n              setToggleModal(!toggleModal);\n            },\n            children: [\" \", \"Add task\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalTask, {\n          toggleModal: toggleModal,\n          setToggleModal: setToggleModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToDoListStyle, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\" \", dayjs().locale(\"PT-BR\").format(\"dddd, DD/MM\"), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => setToggleModal(!toggleModal),\n          children: \" Add task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalTask, {\n        toggleModal: toggleModal,\n        setToggleModal: setToggleModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ToDoList, \"YAf0I0N+/b1ptmrinhIU7fzhdX0=\");\n\n_c = ToDoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToDoList\");","map":{"version":3,"names":["axios","useEffect","useState","useContext","Button","ToDoListStyle","Footer","Header","UserContext","dayjs","ModalTask","ModalDelete","ToDoList","toggleModal","setToggleModal","tasks","setTasks","del","setDel","idTask","setIdtask","user","setUSer","marked","setMarked","filled","setFilled","token","localStorage","getItem","URL_DELETE_TASK","process","env","REACT_APP_API_URL","URL","config","headers","Authorization","get","then","response","console","log","data","catch","e","riskTask","index","taskid","URL_PATCH","body","isDone","done","patch","length","locale","format","map","task","id","description"],"sources":["/home/juliana/Documentos/Driven/Projetos/Projeto-autoral/Pets-planner-front/src/components/ToDoList.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState, useContext } from \"react\";\nimport Button from \"../styledComponents/SubmmitButton\";\nimport ToDoListStyle from \"../styledComponents/ToDoListStyle\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport UserContext from \"../Context/UserContext\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/pt-br\";\nimport ModalTask from \"./ModalTask\";\nimport ModalDelete from \"./ModalDelete\";\n\nexport default function ToDoList() {\n  const [toggleModal, setToggleModal] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [del, setDel] = useState(false);\n  const [idTask, setIdtask] = useState();\n  const { user, setUSer } = useContext(UserContext);\n  const [marked, setMarked] = useState(false);\n  const [filled,setFilled] = useState(\"-outline\")\n\n  const token = localStorage.getItem(\"token\");\n  const URL_DELETE_TASK = `${process.env.REACT_APP_API_URL}/pet/task/delete/${idTask}`;\n  const URL = `${process.env.REACT_APP_API_URL}/pet/task`;\n\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  };\n\n  useEffect(() => {\n    axios\n      .get(URL, config)\n      .then((response) => {\n        console.log(response.data);\n        setTasks(response.data);\n      })\n      .catch((e) => {\n        console.log(e.response);\n      });\n  }, [toggleModal, del, marked]);\n\n  function riskTask(index, taskid) {\n    const URL_PATCH = `${process.env.REACT_APP_API_URL}/pet/task/patch/${taskid}`;\n    const body = {\n      isDone: tasks[index].done,\n    };\n    console.log(body);\n\n    axios\n      .patch(URL_PATCH, body, config)\n      .then((response) => {\n        console.log(response.data);\n        setMarked(!marked);\n      })\n      .catch((e) => console.log(e.response));\n  }\n\n  if (tasks.length > 0) {\n    return (\n      <>\n        <Header />\n        <ToDoListStyle>\n          <h1> {dayjs().locale(\"PT-BR\").format(\"dddd, DD/MM\")} </h1>\n          {tasks.map((task, index) => {\n            return !task.done ? (\n              <div className=\"single-task\">\n                  <p onClick={() => riskTask(index, task.id)}>\n                  {task.description}\n                  </p>\n                 \n               <div className=\"buttons\">\n               <span  className=\"mark-underline\" \n                  onClick={() => {\n                    riskTask(index, task.id);\n                   \n                  }}\n                 \n                >\n                  <ion-icon name={`checkbox${filled}`}></ion-icon>\n                </span>\n                <span className=\"delete\"\n                  onClick={() => {\n                    setDel(!del);\n                    setIdtask(task.id);\n                    console.log(\"id do list \", task.id);\n                  }}\n                >\n                  <ion-icon name=\"trash-outline\"></ion-icon>\n                </span>\n               </div>\n               \n\n                <ModalDelete\n                  toggleModal={del}\n                  setToggleModal={setDel}\n                  id={idTask}\n                  URL={URL_DELETE_TASK}\n                />\n              </div>\n            ) : (\n              \n                <ModalDelete\n                  toggleModal={del}\n                  setToggleModal={setDel}\n                  id={idTask}\n                  URL={URL_DELETE_TASK}\n                />\n            );\n          })}\n          <Button>\n            <span\n              onClick={() => {\n                setToggleModal(!toggleModal);\n              }}\n            >\n              {\" \"}\n              Add task\n            </span>\n          </Button>\n          <ModalTask\n            toggleModal={toggleModal}\n            setToggleModal={setToggleModal}\n          />\n        </ToDoListStyle>\n        <Footer />\n      </>\n    );\n  } else\n    return (\n      <>\n        <Header />\n        <ToDoListStyle>\n          <h1> {dayjs().locale(\"PT-BR\").format(\"dddd, DD/MM\")} </h1>\n          <Button>\n            {\" \"}\n            <span onClick={() => setToggleModal(!toggleModal)}> Add task</span>\n          </Button>\n          <ModalTask\n            toggleModal={toggleModal}\n            setToggleModal={setToggleModal}\n          />\n        </ToDoListStyle>\n        <Footer />\n      </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}