{"ast":null,"code":"import _slicedToArray from\"/home/juliana/Documentos/Driven/Projetos/Projeto-autoral/Pets-planner-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from\"../assets/imgs/pets-planner.svg\";import Container from\"../styledComponents/Container\";import{Rigth}from\"../styledComponents/Container\";import axios from\"axios\";import{Link,useNavigate}from\"react-router-dom\";import{useContext,useState}from\"react\";import UserContext from\"../Context/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useContext=useContext(UserContext),user=_useContext.user,setUser=_useContext.setUser;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var URL_POST=\"\".concat(process.env.REACT_APP_API_URL,\"/login\");var body={email:email,password:password};function login(event){event.preventDefault();axios.post(URL_POST,body).then(function(response){var data=response.data;console.log(data);setUser(data);localStorage.setItem(\"token\",data.token);navigate(\"/\");}).catch(function(err){console.log(\"deu erro\",err.response);alert(err.response.data.message);});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"left\",children:/*#__PURE__*/_jsx(\"img\",{src:logo})}),/*#__PURE__*/_jsxs(Rigth,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Senha\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\" Entrar\"}),/*#__PURE__*/_jsx(Link,{to:\"/logup\",children:/*#__PURE__*/_jsx(\"span\",{children:\"N\\xE3o tem conta? Cadastre-se\"})})]})]});}","map":{"version":3,"names":["logo","Container","Rigth","axios","Link","useNavigate","useContext","useState","UserContext","Login","user","setUser","navigate","password","setPassword","email","setEmail","URL_POST","process","env","REACT_APP_API_URL","body","login","event","preventDefault","post","then","response","data","console","log","localStorage","setItem","token","catch","err","alert","message","e","target","value"],"sources":["/home/juliana/Documentos/Driven/Projetos/Projeto-autoral/Pets-planner-front/src/components/Login.js"],"sourcesContent":["import logo from \"../assets/imgs/pets-planner.svg\";\nimport Container from \"../styledComponents/Container\";\nimport { Rigth } from \"../styledComponents/Container\";\nimport axios from \"axios\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\nimport UserContext from \"../Context/UserContext\"\n\n\n\nexport default function Login() {\n  const { user, setUser } = useContext(UserContext)\n  const navigate = useNavigate();\n\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n \n\n  const URL_POST = `${process.env.REACT_APP_API_URL}/login`\n  const body = {\n    email: email,\n    password: password,\n  };\n\n  function login(event) {\n    event.preventDefault();\n\n    axios\n      .post(URL_POST, body)\n      .then((response) => {\n        const { data } = response;\n        console.log(data)\n        setUser(data)\n        localStorage.setItem(\"token\", data.token)\n\n        navigate(\"/\")\n      })\n      .catch((err) => {\n        console.log(\"deu erro\", err.response);\n        alert(err.response.data.message);\n      });\n  }\n\n  return (\n    <Container>\n      <div className=\"left\">\n        <img src={logo} />\n      </div>\n      <Rigth>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        ></input>\n        <input\n          type=\"password\"\n          placeholder=\"Senha\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        ></input>\n        <button onClick={login}> Entrar</button>\n        <Link to={\"/logup\"}>\n          <span>NÃ£o tem conta? Cadastre-se</span>\n        </Link>\n      </Rigth>\n    </Container>\n  );\n}\n"],"mappings":"iKAAA,MAAOA,KAAP,KAAiB,iCAAjB,CACA,MAAOC,UAAP,KAAsB,+BAAtB,CACA,OAASC,KAAT,KAAsB,+BAAtB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,MAAOC,YAAP,KAAwB,wBAAxB,C,wFAIA,cAAe,SAASC,MAAT,EAAiB,CAC9B,gBAA0BH,UAAU,CAACE,WAAD,CAApC,CAAQE,IAAR,aAAQA,IAAR,CAAcC,OAAd,aAAcA,OAAd,CACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEA,cAAgCE,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eAGA,GAAMC,SAAQ,WAAMC,OAAO,CAACC,GAAR,CAAYC,iBAAlB,UAAd,CACA,GAAMC,KAAI,CAAG,CACXN,KAAK,CAAEA,KADI,CAEXF,QAAQ,CAAEA,QAFC,CAAb,CAKA,QAASS,MAAT,CAAeC,KAAf,CAAsB,CACpBA,KAAK,CAACC,cAAN,GAEArB,KAAK,CACFsB,IADH,CACQR,QADR,CACkBI,IADlB,EAEGK,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAQC,KAAR,CAAiBD,QAAjB,CAAQC,IAAR,CACAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAjB,OAAO,CAACiB,IAAD,CAAP,CACAG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BJ,IAAI,CAACK,KAAnC,EAEArB,QAAQ,CAAC,GAAD,CAAR,CACD,CATH,EAUGsB,KAVH,CAUS,SAACC,GAAD,CAAS,CACdN,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBK,GAAG,CAACR,QAA5B,EACAS,KAAK,CAACD,GAAG,CAACR,QAAJ,CAAaC,IAAb,CAAkBS,OAAnB,CAAL,CACD,CAbH,EAcD,CAED,mBACE,MAAC,SAAD,yBACE,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,GAAG,CAAErC,IAAV,EADF,EADF,cAIE,MAAC,KAAD,yBACE,cACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,OAFd,CAGE,KAAK,CAAEe,KAHT,CAIE,QAAQ,CAAE,kBAACuB,CAAD,QAAOtB,SAAQ,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAJZ,EADF,cAOE,cACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,OAFd,CAGE,KAAK,CAAE3B,QAHT,CAIE,QAAQ,CAAE,kBAACyB,CAAD,QAAOxB,YAAW,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAJZ,EAPF,cAaE,eAAQ,OAAO,CAAElB,KAAjB,qBAbF,cAcE,KAAC,IAAD,EAAM,EAAE,CAAE,QAAV,uBACE,uDADF,EAdF,GAJF,GADF,CAyBD"},"metadata":{},"sourceType":"module"}