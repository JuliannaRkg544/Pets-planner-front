{"ast":null,"code":"var _jsxFileName = \"/home/juliana/Documentos/Driven/Projetos/Projeto-autoral/Pets-planner-front/src/components/ToDoList.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState, useContext } from \"react\";\nimport Button from \"../styledComponents/SubmmitButton\";\nimport ToDoListStyle from \"../styledComponents/ToDoListStyle\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport UserContext from \"../Context/UserContext\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/pt-br\";\nimport ModalTask from \"./ModalTask\";\nimport ModalDelete from \"./ModalDelete\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ToDoList() {\n  _s();\n\n  const [toggleModal, setToggleModal] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [del, setDel] = useState(false);\n  const [idTask, setIdtask] = useState();\n  const {\n    user,\n    setUSer\n  } = useContext(UserContext);\n  const [marked, setMarked] = useState(false);\n  const token = localStorage.getItem(\"token\");\n  const URL_DELETE_TASK = `${process.env.REACT_APP_API_URL}/pet/task/delete/${idTask}`;\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  console.log(\"token \", token);\n  const URL = `${process.env.REACT_APP_API_URL}/pet/task\"`;\n  useEffect(() => {\n    axios.get(URL, config).then(response => {\n      console.log(response.data);\n      setTasks(response.data);\n    }).catch(e => {\n      console.log(e.response);\n    });\n  }, [toggleModal, del, marked]);\n\n  function riskTask(index, taskid) {\n    const URL_PATCH = `${process.env.REACT_APP_API_URL}/pet/task/patch/${taskid}`;\n    const body = {\n      isDone: tasks[index].done\n    };\n    console.log(body);\n    axios.patch(URL_PATCH, body, config).then(response => {\n      console.log(response.data);\n      setMarked(!marked);\n    }).catch(e => console.log(e.response));\n  }\n\n  if (tasks.length > 0) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ToDoListStyle, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\" \", dayjs().locale(\"PT-BR\").format(\"dddd, DD/MM\"), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), tasks.map((task, index) => {\n          return task.done ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-task\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: () => {\n                riskTask(index, task.id);\n              },\n              className: \"underline\",\n              children: task.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                setDel(!del);\n                setIdtask(task.id);\n                console.log(\"id do list \", task.id);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                name: \"trash-outline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ModalDelete, {\n              toggleModal: del,\n              setToggleModal: setDel,\n              id: idTask,\n              URL: URL_DELETE_TASK\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"single-task\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              onClick: () => riskTask(index, task.id),\n              children: [\" \", task.description, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => {\n                setDel(!del);\n                setIdtask(task.id);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"ion-icon\", {\n                name: \"trash-outline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ModalDelete, {\n              toggleModal: del,\n              setToggleModal: setDel,\n              id: idTask,\n              URL: URL_DELETE_TASK\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(Button, {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => {\n              setToggleModal(!toggleModal);\n            },\n            children: [\" \", \"Add task\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModalTask, {\n          toggleModal: toggleModal,\n          setToggleModal: setToggleModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  } else return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ToDoListStyle, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          onClick: () => setToggleModal(!toggleModal),\n          children: \" Add task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ModalTask, {\n        toggleModal: toggleModal,\n        setToggleModal: setToggleModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ToDoList, \"6YXBoO4rm4pWWKALH5HIu8u9tNo=\");\n\n_c = ToDoList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ToDoList\");","map":{"version":3,"names":["axios","useEffect","useState","useContext","Button","ToDoListStyle","Footer","Header","UserContext","dayjs","ModalTask","ModalDelete","ToDoList","toggleModal","setToggleModal","tasks","setTasks","del","setDel","idTask","setIdtask","user","setUSer","marked","setMarked","token","localStorage","getItem","URL_DELETE_TASK","process","env","REACT_APP_API_URL","config","headers","Authorization","console","log","URL","get","then","response","data","catch","e","riskTask","index","taskid","URL_PATCH","body","isDone","done","patch","length","locale","format","map","task","id","description"],"sources":["/home/juliana/Documentos/Driven/Projetos/Projeto-autoral/Pets-planner-front/src/components/ToDoList.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState, useContext } from \"react\";\nimport Button from \"../styledComponents/SubmmitButton\";\nimport ToDoListStyle from \"../styledComponents/ToDoListStyle\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport UserContext from \"../Context/UserContext\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/pt-br\";\nimport ModalTask from \"./ModalTask\";\nimport ModalDelete from \"./ModalDelete\";\n\nexport default function ToDoList() {\n  const [toggleModal, setToggleModal] = useState(false);\n  const [tasks, setTasks] = useState([]);\n  const [del, setDel] = useState(false);\n  const [idTask,setIdtask] = useState()\n  const { user, setUSer } = useContext(UserContext);\n  const [marked, setMarked] = useState(false);\n \n  const token = localStorage.getItem(\"token\");\n  const URL_DELETE_TASK = `${process.env.REACT_APP_API_URL}/pet/task/delete/${idTask}`;\n\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  console.log(\"token \", token);\n  const URL = `${process.env.REACT_APP_API_URL}/pet/task\"`;\n\n  useEffect(() => {\n    axios\n      .get(URL, config)\n      .then((response) => {\n        console.log(response.data);\n        setTasks(response.data);\n      })\n      .catch((e) => {\n        console.log(e.response);\n      });\n  }, [toggleModal, del, marked]);\n\n  function riskTask(index, taskid) {\n    const URL_PATCH = `${process.env.REACT_APP_API_URL}/pet/task/patch/${taskid}`;\n    const body = {\n      isDone: tasks[index].done,\n    };\n    console.log(body);\n\n    axios\n      .patch(URL_PATCH, body, config)\n      .then((response) => {\n        console.log(response.data);\n        setMarked(!marked);\n      })\n      .catch((e) => console.log(e.response));\n  }\n\n  if (tasks.length > 0) {\n    return (\n      <>\n        <Header />\n        <ToDoListStyle>\n          <h1> {dayjs().locale(\"PT-BR\").format(\"dddd, DD/MM\")} </h1>\n          {tasks.map((task, index) => {\n            return task.done ? (\n              <div className=\"single-task\">\n                <p\n                  onClick={() =>{ riskTask(index, task.id) \n                 } }\n                  className=\"underline\"\n                >\n                  {task.description}\n                </p>\n                <span onClick={() => {\n                  setDel(!del)\n                setIdtask(task.id) \n                 console.log(\"id do list \",task.id)}}>\n                  <ion-icon name=\"trash-outline\"></ion-icon>\n                </span>\n                <ModalDelete\n                  toggleModal={del}\n                  setToggleModal={setDel}\n                  id={idTask}\n                  URL = {URL_DELETE_TASK}\n                />\n              </div>\n            ) : (\n              <div className=\"single-task\">\n                <p onClick={() => riskTask(index, task.id)}>\n                  {\" \"}\n                  {task.description}{\" \"}\n                </p>\n                <span onClick={() => {setDel(!del)\n                 setIdtask(task.id)}}>\n                  <ion-icon name=\"trash-outline\"></ion-icon>\n                </span>\n                <ModalDelete\n                  toggleModal={del}\n                  setToggleModal={setDel}\n                  id={idTask}\n                  URL={URL_DELETE_TASK}\n                />\n              </div>\n            );\n          })}\n          <Button>\n            <span\n              onClick={() => {\n                setToggleModal(!toggleModal);\n              }}\n            >\n              {\" \"}\n              Add task\n            </span>\n          </Button>\n          <ModalTask\n            toggleModal={toggleModal}\n            setToggleModal={setToggleModal}\n          />\n        </ToDoListStyle>\n        <Footer />\n      </>\n    );\n  } else\n    return (\n      <>\n        <Header />\n        <ToDoListStyle>\n          <Button>\n            {\" \"}\n            <p onClick={() => setToggleModal(!toggleModal)}> Add task</p>\n          </Button>\n          <ModalTask\n            toggleModal={toggleModal}\n            setToggleModal={setToggleModal}\n          />\n        </ToDoListStyle>\n        <Footer />\n      </>\n    );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}